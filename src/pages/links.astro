---
import BaseLayout from "../layouts/BaseLayout.astro";
import Line from '../components/Line.astro';
import MainText from '../components/MainText.astro'
import LinkCard from "../components/LinkCard.astro";

// 数据分离
const friends = [
  { URL: "https://saroprock.com/", Icon: "https://www.saroprock.com/avatar.webp", Name: "EveSunMaple" }
];
const accounts = [
  { URL: "https://space.bilibili.com/648129231", Icon: "https://bilibili.com/favicon.ico", Name: "BiliBili" },
  { URL: "https://steamcommunity.com/id/yirween/", Icon: "https://steamcommunity.com/favicon.ico", Name: "Steam" }
];
const others = [
  { URL: "https://yirween.lofter.com/", Icon: "https://lofter.com/favicon.ico", Name: "Lofter" },
  { URL: "https://www.mfuns.net/member/61449", Icon: "https://www.mfuns.net/favicon.ico", Name: "Mfuns" }
];
---

<BaseLayout pageTitle="Links">
  <MainText>
    <h1>链接</h1>
    <Line />
    <div class="chooseButton">
      <div class="chooseLinkMode active" id="changeToFriend">友链</div>
      <div class="chooseLinkMode" id="changeToOthers">我在其它地方的各种账号</div>
      <div class="chooseLinkMode" id="changeToWebs">收藏的网站</div>
    </div>
    <div id="friends">
      <h3>友链</h3>
      <Line />
      <div class="linkcards">
        {friends.map(link => <LinkCard {...link} />)}
      </div>
      <p>
        可以通过我的邮箱
        <a href="mailto:yirween@outlook.com">yirween@outlook.com</a>
        或 QQ 2155384970 来联系我添加友链！
      </p>
    </div>
    <div class="hidden" id="others">
      <h3>常用账号</h3>
      <p>有点内容或欢迎添加好友的账号</p>
      <Line />
      <div class="linkcards">
        {accounts.map(link => <LinkCard {...link} />)}
      </div>
      <h3>不太用的</h3>
      <p>几乎不用或者没有内容的账号</p>
      <Line />
      <div class="linkcards">
        {others.map(link => <LinkCard {...link} />)}
      </div>
      <Line />
      <div class="contact-info">
        <div>QQ: 2155384970</div>
        <div>邮箱: yirween@outlook.com</div>
      </div>
    </div>
    <div class="hidden" id="webs">
      <h3>收藏的网站</h3>
      <Line />
      <div class="linkcards">
        <!-- 这里可继续扩展收藏网站数据 -->
      </div>
    </div>
  </MainText>
</BaseLayout>

<script>
  // 切换逻辑优化，按钮高亮
  const btns = document.querySelectorAll(".chooseLinkMode");
  const sections = ["friends", "others", "webs"];
  btns.forEach((btn, idx) => {
    btn.addEventListener("click", () => {
      sections.forEach((id, i) => {
        document.getElementById(id)?.classList.toggle("hidden", i !== idx);
        btns[i].classList.toggle("active", i === idx);
      });
    });
  });
</script>

<!-- <style>
.chooseButton {
  justify-content: center;
  gap: 1em;
}
.chooseLinkMode.active {
  background-color: #55888c;
  color: #fff;
}
.contact-info {
  margin-left: 1em;
  color: #333;
}
.linkcards {
  gap: 1em;
}
</style> -->